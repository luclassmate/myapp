<!DOCTYPE html>
<html>
        
<head>
        
     <title>Draw Name</title>
        
</head>
<body>
 <p>
     <input type="file" id="file" >
</p>
        
 <p>      
     <input type="submit" id="button1"  value="确定" onclick="readfile()">
 </p>
 <p>
        
    <input type="submit" id="button2"  value="我的名字" onclick="drawname(canvas)">
 </p>
<p>
    <input type="button" id="button3" value="左斜" onclick="zuoxie(canvas)">
    <input type="button" id="button4" value="耸肩" onclick="songjian(canvas)">
    <input type="button" id="button5" value="比例" onclick="bili(canvas)">
    <input type="button" id="button6" value="旋转" onclick="xuanzhuan(canvas)">
    <input type="button" id="button7" value="对称" onclick="duichen(canvas)">
    <input type="button" id="button8" value="平移" onclick="pingyi(canvas)">

        
    <div id="tt">
     </div>
        <table width="600" height="600" border="1">
        <tr>
        <th scope="col"><canvas name=canvas  width="800px" height="800px"></canvas></th>
        </tr>
        </table>
</body>
        
    <script>
        var MAXAMOUNT=300;
        var canvas=document.getElementsByName("canvas")[0];
        var x=new Array();
        var y=new Array();
        for(var i=0;i<MAXAMOUNT;i++)
         {
             x[i]=0;
             y[i]=0;
         }
        
        function readfile()
         {
             var file=document.getElementById("file").files[0];
             var reader=new FileReader();
             reader.readAsText(file);
             reader.onload = function (w) 
              {
                  var fileText = w.target.result.split("\n");
                  for(var i=0;i<fileText.length;i++)
                   {
                       if(fileText[i].length!=1&&fileText[i]!="END") //排除END行和序号行
                       {
                           var arr=fileText[i].split(",");//以逗号分隔
                           x[i]=arr[0];
                           y[i]=arr[1];
                        }
                       else
                       {
                           x[i]=0;
                           y[i]=0;     
                       }
                 }
            }
        }  
        
        function drawname(canvas)
        {
             var ctx = canvas.getContext("2d"); 
             ctx.clearRect(0,0,800,800);  
             ctx.lineWidth =5;
             ctx.strokeStyle ='green';   
             for(var i=0;i<MAXAMOUNT-1;i++)
                {
                    if((x[i]!=0)&&(x[i+1]!=0))
                     {
                         ctx.beginPath();
                         ctx.moveTo(x[i]*8,y[i]*8);
                         ctx.lineTo(x[i+1]*8,y[i+1]*8); 
                         ctx.stroke();
                     }       
                 }  
              
         }

        

        function zuoxie(canvas)
        {
            var ctx = canvas.getContext("2d");  
            ctx.clearRect(0,0,800,800);   
             ctx.lineWidth =5;
             ctx.strokeStyle ='green'; 
            
             for(var i=0;i<MAXAMOUNT-1;i++)
                {
                    if((x[i]!=0)&&(x[i+1]!=0))
                     {
                         ctx.beginPath();
                         ctx.moveTo(x[i]*8+y[i]*8*0.3,y[i]*8);
                         ctx.lineTo(x[i+1]*8+y[i+1]*8*0.3,y[i+1]*8); 
                         ctx.stroke();
                     }       
                 }           
        }

        function songjian(canvas)
        {
            var ctx = canvas.getContext("2d");  
            ctx.clearRect(0,0,800,800);   
             ctx.lineWidth =5;
             ctx.strokeStyle ='green'; 
            
             for(var i=0;i<MAXAMOUNT-1;i++)
                {
                    if((x[i]!=0)&&(x[i+1]!=0))
                     {
                         ctx.beginPath();
                         ctx.moveTo(x[i]*8-y[i]*8*0.3,y[i]*8);
                         ctx.lineTo(x[i+1]*8-y[i+1]*8*0.3,y[i+1]*8); 
                         ctx.stroke();
                     }       
                 }           
        }

        function bili(canvas)
        {
            var ctx = canvas.getContext("2d");  
            ctx.clearRect(0,0,800,800);   
             ctx.lineWidth =5;
             ctx.strokeStyle ='green'; 
            
             
             ctx.scale(1.5,1.5,100,100);  //放大1.5倍
             for(var i=0;i<MAXAMOUNT-1;i++)
                {
                    if((x[i]!=0)&&(x[i+1]!=0))
                     {
                         ctx.beginPath();
                         ctx.moveTo(x[i]*8,y[i]*8);
                         ctx.lineTo(x[i+1]*8,y[i+1]*8); 
                         ctx.stroke();
                     }       
                 }           
        }

        function xuanzhuan(canvas)
        {
            var ctx = canvas.getContext("2d");  
            ctx.clearRect(0,0,800,800);   
             ctx.lineWidth =5;
             ctx.strokeStyle ='green'; 
            
             
             ctx.rotate(Math.PI/6);  //顺时针旋转30度
             for(var i=0;i<MAXAMOUNT-1;i++)
                {
                    if((x[i]!=0)&&(x[i+1]!=0))
                     {
                         ctx.beginPath();
                         ctx.moveTo(x[i]*8,y[i]*8);
                         ctx.lineTo(x[i+1]*8,y[i+1]*8); 
                         ctx.stroke();
                     }       
                 }           
         }

         function duichen(canvas)  //关于直线y=300对称
         {
            var ctx = canvas.getContext("2d");  
            ctx.clearRect(0,0,800,800);   
             ctx.lineWidth =5;
             ctx.strokeStyle ='green'; 
            
             for(var i=0;i<MAXAMOUNT-1;i++)
                {
                    if((x[i]!=0)&&(x[i+1]!=0))
                     {
                         ctx.beginPath();
                         ctx.moveTo(x[i]*8,y[i]*8);
                         ctx.lineTo(x[i+1]*8,y[i+1]*8); 
                         ctx.stroke();
                     }       
                 }  
            
             for(var i=0;i<MAXAMOUNT-1;i++)
                {
                    if((x[i]!=0)&&(x[i+1]!=0))
                     {
                         ctx.beginPath();
                         ctx.moveTo(x[i]*8,600-y[i]*8);
                         ctx.lineTo(x[i+1]*8,600-y[i+1]*8); 
                         ctx.stroke();
                     }       
                 }           
         }

         function pingyi(canvas)
         {
            var ctx = canvas.getContext("2d");  
            ctx.clearRect(0,0,800,800);   
             ctx.lineWidth =5;
             ctx.strokeStyle ='green'; 
             for(var i=0;i<MAXAMOUNT-1;i++)
                {
                    if((x[i]!=0)&&(x[i+1]!=0))
                     {
                         ctx.beginPath();
                         ctx.moveTo(x[i]*8,y[i]*8);
                         ctx.lineTo(x[i+1]*8,y[i+1]*8); 
                         ctx.stroke();
                     }       
                 }  
            ctx.translate(100,100);   //向右向下分别平移100
            for(var i=0;i<MAXAMOUNT-1;i++)
                {
                    if((x[i]!=0)&&(x[i+1]!=0))
                     {
                         ctx.beginPath();
                         ctx.moveTo(x[i]*8,y[i]*8);
                         ctx.lineTo(x[i+1]*8,y[i+1]*8); 
                         ctx.stroke();
                     }       
                 }  
         }


     </script>
        
     </html>